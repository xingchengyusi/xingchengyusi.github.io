<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"localhost","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.13.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Hello, as a Pythonista, sometimes I have been confused about how to use import correctly and efficiently. This article will cover all things I know about it.">
<meta property="og:type" content="article">
<meta property="og:title" content="Import in Python">
<meta property="og:url" content="http://localhost:4000/en/computer/import-in-python.html">
<meta property="og:site_name" content="XCYS">
<meta property="og:description" content="Hello, as a Pythonista, sometimes I have been confused about how to use import correctly and efficiently. This article will cover all things I know about it.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://localhost:4000/en/computer/import-in-python/import-module.drawio.svg">
<meta property="og:image" content="http://localhost:4000/en/computer/import-in-python/import-module-multiple-times.png">
<meta property="og:image" content="http://localhost:4000/en/computer/import-in-python/import_class_from_a_file.png">
<meta property="og:image" content="http://localhost:4000/en/computer/import-in-python/import_file_from_custom_syspath_1.png">
<meta property="og:image" content="http://localhost:4000/en/computer/import-in-python/import_file_from_custom_syspath_2.png">
<meta property="article:published_time" content="2022-12-23T22:20:48.000Z">
<meta property="article:modified_time" content="2022-12-29T07:39:12.747Z">
<meta property="article:author" content="Xingchengyusi">
<meta property="article:tag" content="computer">
<meta property="article:tag" content="python">
<meta property="article:tag" content="computer language">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://localhost:4000/en/computer/import-in-python/import-module.drawio.svg">


<link rel="canonical" href="http://localhost:4000/en/computer/import-in-python.html">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://localhost:4000/en/computer/import-in-python.html","path":"en/computer/import-in-python.html","title":"Import in Python"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Import in Python | XCYS</title>
  






  <script async defer data-website-id="" src=""></script>

  <script defer data-domain="" src=""></script>

  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">XCYS</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-xuewen"><a href="/xw/" rel="section"><i class="fa fa-arrow-up-from-ground-water fa-fw"></i>XueWen</a></li><li class="menu-item menu-item-computer"><a href="/computer/" rel="section"><i class="fa fa-computer fa-fw"></i>Computer</a></li><li class="menu-item menu-item-hiking"><a href="/mountain/" rel="section"><i class="fa fa-mountain fa-fw"></i>Hiking</a></li><li class="menu-item menu-item-acgn"><a href="/acgn/" rel="section"><i class="fa fa-gamepad fa-fw"></i>ACGN</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#What-do-we-import"><span class="nav-number">1.</span> <span class="nav-text">What do we import?</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Import-module"><span class="nav-number">2.</span> <span class="nav-text">Import module</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Special-Scenario"><span class="nav-number">2.1.</span> <span class="nav-text">Special Scenario</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Import-a-module-multiple-times"><span class="nav-number">2.1.1.</span> <span class="nav-text">Import a module multiple times</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Import-class-from-a-file"><span class="nav-number">2.1.2.</span> <span class="nav-text">Import class from a file</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Import-file-from-custom-sys-path-1"><span class="nav-number">2.1.3.</span> <span class="nav-text">Import file from custom sys.path 1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Import-file-from-custom-sys-path-2"><span class="nav-number">2.1.4.</span> <span class="nav-text">Import file from custom sys.path 2</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Import-package"><span class="nav-number">3.</span> <span class="nav-text">Import package</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Reference"><span class="nav-number">4.</span> <span class="nav-text">Reference</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Xingchengyusi</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">13</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">23</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://localhost:4000/en/computer/import-in-python.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xingchengyusi">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XCYS">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Import in Python | XCYS">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Import in Python
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-12-23 14:20:48" itemprop="dateCreated datePublished" datetime="2022-12-23T14:20:48-08:00">2022-12-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-12-28 23:39:12" itemprop="dateModified" datetime="2022-12-28T23:39:12-08:00">2022-12-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/computer/" itemprop="url" rel="index"><span itemprop="name">computer</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>Hello, as a Pythonista, sometimes I have been confused about how to use <code>import</code> correctly and efficiently. This article will cover all things I know about it.</p>
<span id="more"></span>

<h1 id="What-do-we-import"><a href="#What-do-we-import" class="headerlink" title="What do we import?"></a>What do we import?</h1><p>In an application, we often use <code>import</code> to import another module or package and let the following code could use them. So in the first part, I will discuss what modules and packages are.</p>
<p>A module is an object that serves as an organizational unit of Python code. It has a namespace containing arbitrary Python objects. Also, it is a concept of Python runtime. In coding, it often corresponds to a <code>.py</code> file.</p>
<p>A package is a special module with <code>__path__</code> attribute. In coding, it often corresponds to a dictionary that contain multiple <code>.py</code> files and dictionaries.</p>
<table>
<thead>
<tr>
<th></th>
<th>In OS</th>
<th>In Python</th>
</tr>
</thead>
<tbody><tr>
<td>module</td>
<td>file</td>
<td>object</td>
</tr>
<tr>
<td>packge</td>
<td>dictionary</td>
<td>object with <code>__path__</code> attribute</td>
</tr>
</tbody></table>
<h1 id="Import-module"><a href="#Import-module" class="headerlink" title="Import module"></a>Import module</h1><p>Import the change file to a Python module. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> mytest</span><br></pre></td></tr></table></figure>

<p>In this process, Python will:</p>
<ol>
<li>Get the name <code>mytest</code> as a string.</li>
<li>Check a module name <code>mytest</code> exists <strong>in cache</strong>.</li>
<li>Begin to find module <code>mytest</code>.</li>
<li>Find the module in <strong>build-in module</strong> (<code>sys</code>, <code>os</code>).</li>
<li>Find file could be loaded as <code>mytest</code> in <code>sys.path</code> as the sequence.<ul>
<li>If Python finds a file in the first dictionary, it will stop finding and begin loading.</li>
</ul>
</li>
<li>Building a module: run the file in an independent namespace.</li>
<li>Update cache.</li>
<li>Assign the object to variable <code>mytest</code>.</li>
</ol>
<img src="/en/computer/import-in-python/import-module.drawio.svg" class="" title="Import module flow chart">

<p>All set. Now we could use the variable!</p>
<h2 id="Special-Scenario"><a href="#Special-Scenario" class="headerlink" title="Special Scenario"></a>Special Scenario</h2><p>I will use some special scenarios in this section to show the details.</p>
<h3 id="Import-a-module-multiple-times"><a href="#Import-a-module-multiple-times" class="headerlink" title="Import a module multiple times"></a>Import a module multiple times</h3><p>For instance, there is a Python file <code>test.py</code>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">T</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;test is imported.&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>Now, we import it in <code>example1.py</code> two times. What will happen? How many times of above string will be printed?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> test</span><br><span class="line"><span class="keyword">import</span> test</span><br></pre></td></tr></table></figure>

<p>The answer is <strong>1</strong> time. Since after the first run, Python will store this object in the cache, and next time, it will check and load from the cache directly.</p>
<img src="/en/computer/import-in-python/import-module-multiple-times.png" class="">

<h3 id="Import-class-from-a-file"><a href="#Import-class-from-a-file" class="headerlink" title="Import class from a file"></a>Import class from a file</h3><p>If there is a Python file <code>test.py</code> contains a class <code>T</code>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">T</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;test is imported.&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>If in the following code, What is the output of the following code?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> test <span class="keyword">import</span> T</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;second&#x27;</span>)</span><br><span class="line"><span class="keyword">import</span> test</span><br></pre></td></tr></table></figure>

<p>The answer is:</p>
<img src="/en/computer/import-in-python/import_class_from_a_file.png" class="">

<p>When Python imports a class inside a file, it will find and run the file to produce an object of this file. The only difference from importing the whole module is assigning the class to the variable, not the entire thing. Also, updating the cache will store the whole object, not just the class object. So the print sentence will run once when importing the class <code>T</code> before importing the whole <code>test</code>.</p>
<h3 id="Import-file-from-custom-sys-path-1"><a href="#Import-file-from-custom-sys-path-1" class="headerlink" title="Import file from custom sys.path 1"></a>Import file from custom sys.path 1</h3><p>Consider the following code:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.path = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> test</span><br></pre></td></tr></table></figure>

<p>What is the output of the program?</p>
<img src="/en/computer/import-in-python/import_file_from_custom_syspath_1.png" class="">

<p>Well, the program will report an error and import nothing. Since <code>test</code> is not in the cache and is not a built-in package, Python will find it in dictionaries of <code>sys.path</code>. However, the program sets this list to empty, and Python will find nothing absolutely.</p>
<h3 id="Import-file-from-custom-sys-path-2"><a href="#Import-file-from-custom-sys-path-2" class="headerlink" title="Import file from custom sys.path 2"></a>Import file from custom sys.path 2</h3><p>Consider the following code. Unlike above, I have two same-name files in sub-folder <code>dir1</code> and <code>dir2</code>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.path = [<span class="string">&#x27;/Users/cz/projects/example/dir2&#x27;</span>, <span class="string">&#x27;/Users/cz/projects/example/dir1&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(sys.path)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> test</span><br></pre></td></tr></table></figure>

<p>What is the output of the program?</p>
<img src="/en/computer/import-in-python/import_file_from_custom_syspath_2.png" class="">

<p>According to the above rules, <em>Python</em> will search the file in <code>sys.path</code> as a sequence. If <em>Python</em> finds the target file in the first folder, it will terminate the search and never look up the second one. In this case, only the <code>test.py</code> file in <code>dir2</code> will be imported.</p>
<h1 id="Import-package"><a href="#Import-package" class="headerlink" title="Import package"></a>Import package</h1><h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p>Special Thanks <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1K24y1k7XA">Tian Gao’s detailed video</a> in Bilibili. I highly recommend everyone who knows Chinese should review it.</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/computer/" rel="tag"># computer</a>
              <a href="/tags/python/" rel="tag"># python</a>
              <a href="/tags/computer-language/" rel="tag"># computer language</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/en/computer/generative-deep-learning.html" rel="prev" title="Generative Deep Learning">
                  <i class="fa fa-chevron-left"></i> Generative Deep Learning
                </a>
            </div>
            <div class="post-nav-item">
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xingchengyusi</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/xingchengyusi" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  




  





</body>
</html>
